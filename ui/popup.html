<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaction Download</title>
    <link rel="stylesheet" href="../styles/styles.css">
</head>
<body>
    <div>
        <div class="layout">
            <div>
                <div class="tab-container">
                    <div class="tabs">
                        <div class="tab" data-target="container">Export</div>
                        <div class="tab" data-target="nft-info">NFT</div>
                        <div class="tab" data-target="rewards-info">Rewards</div>
                        <div class="tab" data-target="clan-info">Clan Members</div>
                        <div class="tab" data-target="discount-info">Discount</div>
                    </div>
                    <div class="tab-content">
                        <div class="container tab-panel active">
                            <h3>Transaction Download</h3>
                            <form>
                                <label>
                                    <input type="checkbox" id="csv-checkbox">
                                    Download CSV
                                </label>
                                <label>
                                    <input type="checkbox" id="koinly-checkbox">
                                    Download Koinly
                                </label>
                                <label>
                                    <input type="checkbox" id="blockpit-checkbox">
                                    Download Blockpit
                                </label>
                                <label>
                                    Start At:
                                    <input type="date" id="start-date-picker">
                                    <a href="#" id="clear-date" style="margin-left: 10px;">Clear Date</a>
                                </label>
                                <button id="inspect-cookies" type="button">Generate Files</button>
                            </form>
                            <div id="loader" style="display: none;">
                                <img src="../assets/spinner.gif" alt="Loading...">
                            </div>
                            <div id="status-label" class="status-label"></div>
                        </div>
                        <div class="nft-info tab-panel">
                            <h3>Miner Overview</h3>
                            <div id="miner-list" class="miner-list"></div>
                            <div id="miner-events" class="miner-events">
                                <h4>Miner Events</h4>
                                <ul id="event-list"></ul>
                            </div>
                        </div> 
                        <div class="rewards-info tab-panel">
                            <h3>Personal Rewards</h3>
                            <ul id="rewards-list"><li>Loading...</li></ul>
                        </div>
                        <div class="clan-info tab-panel">
                            <h3>Clan Members (<span id="clan-member-count">0</span>)</h3>
                            <div class="dropdown-container">
                                <label for="sort-clan-members">Sort by:</label>
                                <select id="sort-clan-members">
                                    <option value="alphabetical">Alphabetical</option>
                                    <option value="joinDate">Join Date</option>
                                    <option value="power">Power</option>
                                </select>
                                <label for="filter-clan-members">Joined after:</label>
                                <select id="filter-clan-members">
                                    <option value="">None</option>
                                    <option value="1">Last 1 Day</option>
                                    <option value="2">Last 2 Days</option>
                                    <option value="7">Last 7 Days</option>
                                    <option value="14">Last 14 Days</option>
                                </select>
                            </div>
                            <ul id="clan-list"><li>Loading...</li></ul>
                        </div>
                        <div class="discount-info tab-panel">
                            <h3>Discount Info</h3>
                            <div id="discount-list" class="discount-list"></div>
                            <p><strong>Token-Discount:</strong> <span id="token-discount"></span> day(s)</p>
                            <p><strong>Service-Discount:</strong> <span id="service-discount"></span> %</p>
                            <p><strong>Level-Discount:</strong> <span id="level-discount"></span> %</p>
                            <p><strong>Solo-Discount:</strong> <span id="solo-discount"></span> %</p>
                            <p><strong>GMT Balance:</strong> <span id="gmt-balance"></span></p>
                            <p><strong>GMT Locked:</strong> <span id="gmt-locked"></span></p>
                            <p><strong>Days of Active Maintenance:</strong> <span id="active-maintenance-days"></span></p>
                            <p><strong>Maintenance Without Discount:</strong> <span id="maintenance-without-discount"></span> GMT</p>
                            <p><strong>Total Maintenance:</strong> <span id="total-maintenance"></span> GMT</p>
                            <button id="update-button" disabled>Update Maintenance</button>
                        </div>                         
                    </div>
                </div>
            </div>
            
            <div class="user-info">
                <h3>User Info</h3>
                <p><strong>Alias:</strong> <br> <span id="alias"></span></p>
                <p><strong>ID:</strong> <br> <span id="user-id"></span></p>
                <p><strong>Email:</strong> <br> <span id="email"></span></p>
                <p><strong>Joined:</strong> <br> <span id="createdAt"></span></p>
            </div>

            <div id="version-info"></div>
        </div>
    </div>

    <script type="module" src="../scripts/config.js"></script>
    <script type="module" src="../scripts/popup.js"></script>
</body>
</html>
